services:
  ### ğŸŒ Hyperf é¡¹ç›® 1
  hyperf_doudian:
    image: hyperf/hyperf:8.0-alpine-v3.12-swoole
    container_name: hyperf_doudian
    restart: always
    privileged: true  # âœ… è®©å®¹å™¨ä»¥ç‰¹æƒæ¨¡å¼è¿è¡Œ
    user: "root"  # âœ… ä»¥ root ç”¨æˆ·è¿è¡Œ
    working_dir: /data/project  # âœ… è®¾ç½®å·¥ä½œç›®å½•
    entrypoint: ["/bin/sh", "-c", "sleep infinity"]  # âœ… è®©å®¹å™¨ä¿æŒè¿è¡Œ
    ports:
      - "9501:9501"  # âœ… æ˜ å°„ç«¯å£
    volumes:
      - ./projects/doudian:/data/project  # âœ… æŒ‚è½½ç›®å½•
    networks:
      - backend  # âœ… è®© hyperf_doudian è¿æ¥ backend ç½‘ç»œ

  ### ğŸŒ Hyperf é¡¹ç›® 2
  hyperf_project2:
    image: hyperf/hyperf:8.0-alpine-v3.12-swoole
    container_name: hyperf_project2
    restart: always
    privileged: true  # âœ… è®©å®¹å™¨ä»¥ç‰¹æƒæ¨¡å¼è¿è¡Œ
    user: "root"  # âœ… ä»¥ root ç”¨æˆ·è¿è¡Œ
    working_dir: /data/project  # âœ… è®¾ç½®å·¥ä½œç›®å½•
    entrypoint: ["/bin/sh", "-c", "sleep infinity"]  # âœ… è®©å®¹å™¨ä¿æŒè¿è¡Œ
    ports:
      - "9501:9501"  # âœ… æ˜ å°„ç«¯å£
    volumes:
      - ./projects/project2:/data/project  # âœ… æŒ‚è½½ç›®å½•
    networks:
      - backend  # âœ… è®© hyperf_project2 è¿æ¥ backend ç½‘ç»œ

networks:
  backend:
    external: true  # âœ… è¿™æ · hyperf ä¼šåŠ å…¥ backend ç½‘ç»œ
